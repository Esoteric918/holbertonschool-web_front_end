<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

	<meta charset="utf-8" />
	<title>Task 0</title>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
		integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
</head>

<body>

	<script type="application/javascript">
		function createFamilyTree() {
			$('body').append('<table></table>');
			$('table').append('<thead></thead>');
			$('thead').append('<th></th>', '<th></th>');
			$('th').eq(0).append('<h1>Firstname</h1>');
			$('th').eq(1).append('<h1>Lastname</h1>')
			$('table').append('<tbody></tbody>');
		}

		function addNewMember(firstName, lastName, position) {
			var content = `<tr>
								<td>${firstName}</td>
								<td>${lastName}</td>
								<td>(x)</td>
							</tr>`

			position == 'before' ?
				$('tbody').prepend(content) :
				$('tbody').append(content)

			$('tr :last-child').click((event) => {
				$(event.currentTarget).parent().remove()
			});

			$('tr :last-child').css('background-color', 'orange');

		}

		function createForm() {
			$('table').before(
				`<input type=text></input>
						<input type=text></input>
						<select>
							<option value = "before"> Before </option>
							<option value = "after"> After </option>
						</select>
						<input type=submit></input>
						`
			)

			$('input[type="submit"]').click(() => {
				var firstName = $('input').first().val();
				var lastName = $('input:nth-of-type(2)').val();
				var position = $('select').val();
				addNewMember(firstName, lastName, position);
				$('input[type="submit"]').value = ""
			});

		}
		createFamilyTree();
		createForm();
		// $(document).ready(function () {

		// 	createFamilyTree();
		// 	createForm();
		// });
	</script>

</body>

</html>
